# Расшифровка азбуки Морзе, для профессионалов

## ОПИСАНИЕ:
В этом ката вам придется иметь дело с "реальными" сценариями, когда скорость передачи азбуки Морзе немного меняется на протяжении всего сообщения, поскольку оно отправляется неидеальным человеком-оператором. Кроме того, 
частота дискретизации может быть не кратной длине обычной "точки".  

Например, сообщение `HEY JUDE`, представимое в виде `···· · −·−−   ·−−− ··− −·· ·`, может быть получено в следующем виде:
```
0000000011011010011100000110000001111110100111110011111100000000000111011111111011111011111000000101100011111100000111110011101100000100000
```

Как можно заметить, эта передача в целом точна в соответствии со стандартом, но некоторые точки, тире и паузы немного короче или длиннее, чем другие.  

Также обратите внимание, что, в отличие от предыдущего ката, предполагаемая средняя скорость (бит на точку) может быть не целым числом, поскольку гипотетический передатчик является человеком и ничего не знает о частоте 
дискретизации на принимающей стороне.  

Например, вы можете выполнять выборку строки 10 раз в секунду (100 мс на выборку), в то время как оператор передает данные таким образом, чтобы продолжительность его многоточий и коротких пауз составляла 110-170 мс. Очевидно, 
что 10 отсчетов в секунду - это достаточное разрешение для такой скорости (это означает, что каждая точка и пауза отражаются в выходных данных, ничего не пропускается), и точки будут отображаться как 1 или 11, но если вы 
попытаетесь оценить скорость (бит на точку), это будет не 1 или 2, это было бы примерно так (110 + 170) / 2 / 100 = 1.4. Ваш алгоритм должен хорошо справляться с подобными ситуациями.  

Также помните, что каждое отдельное сообщение должно быть отправлено другим оператором, поэтому скорость его отправки и другие характеристики могут отличаться. Таким образом, вы должны анализировать каждое сообщение 
(т.е. тестировать) независимо, не полагаясь на предыдущие сообщения. С другой стороны, мы предполагаем, что характеристики передачи остаются неизменными на протяжении всего сообщения, поэтому вам необходимо проанализировать 
сообщение в целом, чтобы обеспечить правильное декодирование. Согласованность означает, что если в начале сообщения '11111' означает точку, а '111111' - тире, то то же самое верно везде в этом сообщении. Более того, это также 
означает, что '00000' - это определенно короткая (внутрисимвольная) пауза, а '000000' - длинная (между символами) пауза.  

Это означает, что вам необходимо реализовать две функции:
1. Функцию `decodeBitsAdvanced(bits)`, которая должна определить приблизительную скорость передачи сообщения, позаботиться о незначительных изменениях скорости, которые могут возникнуть в сообщении, правильно расшифровать 
сообщение в точки `.`, тире `-` и пробелы (один между символами, три между словами) и вернуть их в виде строки. Обратите внимание, что в начале и конце сообщения могут встречаться дополнительные `0`, поэтому не обращайте на 
них внимания. Если сообщение пустое или содержит только `0`, верните пустую строку. Также, если у вас возникли проблемы с определением того, является ли конкретная последовательность `1` точкой или тире, предположите, что это 
точка. Если застрял, проверьте это на предмет идей.
2. Функцию `decodeMorse(morseCode)`, которая принимает выходные данные предыдущей функции и возвращает строку, удобочитаемую человеком. Если входные данные представляют собой пустую строку или содержат только пробелы, 
возвращает пустую строку.

**ПРИМЕЧАНИЕ:** Для целей кодирования вы должны использовать символы ASCII `.` и `-`, а не символы Unicode.  

Таблица азбуки Морзе предварительно загружена для вас в виде словаря MORSE_CODE, не стесняйтесь использовать ее. Для C функция morse_code работает как словарь. Для C++, Scala и Go используется map. Для C# он называется 
Preloaded.MORSE_CODE. Для Racket используется хэш, называемый MORSE-CODE.
```Racket
(hash-ref MORSE-CODE "".-.") ; возвращает "C"
```

Конечно, не все сообщения могут быть полностью автоматически расшифрованы. Но вы можете быть уверены, что все тестовые строки будут корректны до такой степени, что их можно будет надежно декодировать, как описано выше, 
поэтому вы можете пропустить проверку на наличие ошибок и исключений, просто приложите все усилия, чтобы понять, что это за сообщение!  

Удачи!